get:
  tags: [Despesas]
  summary: Total por categoria
  description: >
    Retorna a soma de Despesas por categoria (operationType) no intervalo informado.
    Requer autenticação e ownership do userId.
  operationId: expenseTotalByCategory
  security:
    - bearerAuth: []
  parameters:
    - $ref: "../../components/parameters.yaml#/UserIdPath"
    - $ref: "../../components/parameters.yaml#/StartDateParam"
    - $ref: "../../components/parameters.yaml#/EndDateParam"
    - $ref: "../../components/parameters.yaml#/PageParam"
    - $ref: "../../components/parameters.yaml#/SizeParam"
    - $ref: "../../components/parameters.yaml#/SortParam"
  responses:
    '200':
      description: Lista de totais por categoria
      content:
        application/json:
          schema:
            type: array
            items:
              $ref:  "../../components/schemas/ExpenseByCategory.yaml"
    '401':
      $ref:  "../../components/responses.yaml#/Unauthorized"
    '403':
      $ref:  "../../components/responses.yaml#/Forbidden"